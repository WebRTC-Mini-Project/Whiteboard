(this["webpackJsonpwhiteborad-front"]=this["webpackJsonpwhiteborad-front"]||[]).push([[0],{85:function(t,e,n){"use strict";n.r(e);var o=n(1),i=n.n(o),c=n(46),r=n.n(c),s=n(14),a=n(15),u=n(47),l=n.n(u),d=n(23),j=n(2),b=function(){var t=l()("/wb"),e=Object(o.useState)("pen"),n=Object(a.a)(e,2),i=n[0],c=n[1],r=Object(o.useState)([]),u=Object(a.a)(r,2),b=u[0],v=u[1],h=Object(o.useRef)([]),p=Object(o.useRef)(!1);return Object(o.useEffect)((function(){t.on("pos",(function(t){var e=[].concat(Object(s.a)(h.current),[{tool:t.tool,points:t.points}]);v(e.concat()),h.current=e.concat()}))}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(d.c,{style:{border:"1px red solid"},width:window.innerWidth,height:window.innerHeight,onMouseDown:function(t){var e;p.current=!0;var n=null===(e=t.target.getStage())||void 0===e?void 0:e.getPointerPosition();v([].concat(Object(s.a)(b),[{tool:i,points:[null===n||void 0===n?void 0:n.x,null===n||void 0===n?void 0:n.y]}]))},onMousemove:function(t){if(!1!==p.current){var e=t.target.getStage(),n=null===e||void 0===e?void 0:e.getPointerPosition(),o=b[b.length-1];o.points=null===o||void 0===o?void 0:o.points.concat([null===n||void 0===n?void 0:n.x,null===n||void 0===n?void 0:n.y]),b.splice(b.length-1,1,o),v(b.concat()),h.current=b}},onMouseup:function(){var e=b[b.length-1];t.emit("pos",e),p.current=!1},children:Object(j.jsx)(d.a,{children:b.map((function(t,e){return Object(j.jsx)(d.b,{points:t.points,stroke:"#df4b26",strokeWidth:5,tension:.5,lineCap:"round",globalCompositeOperation:"eraser"===t.tool?"destination-out":"source-over"},e)}))})}),Object(j.jsxs)("select",{value:i,onChange:function(t){c(t.target.value)},children:[Object(j.jsx)("option",{value:"pen",children:"Pen"}),Object(j.jsx)("option",{value:"eraser",children:"Eraser"})]})]})};var v=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"HI"}),Object(j.jsx)(b,{})]})};r.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.2758cb91.chunk.js.map